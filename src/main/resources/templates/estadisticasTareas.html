<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <title>Estadísticas de Tareas</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="container mx-auto px-4">
    <h1 class="text-2xl font-semibold my-4">Estadísticas de Tareas</h1>

    <div class="grid grid-cols-3 gap-4">
        <div class="bg-white p-4 shadow rounded-lg">
            <h2 class="text-lg font-medium text-gray-700">Total de Tareas</h2>
            <p class="text-3xl" th:text="${totalTareas}"></p>
        </div>
        <div class="bg-white p-4 shadow rounded-lg">
            <h2 class="text-lg font-medium text-gray-700">Tareas Completadas</h2>
            <p class="text-3xl" th:text="${tareasCompletadas}"></p>
        </div>
        <div class="bg-white p-4 shadow rounded-lg">
            <h2 class="text-lg font-medium text-gray-700">Tareas en Progreso</h2>
            <p class="text-3xl" th:text="${tareasEnProgreso}"></p>
        </div>
        <!-- Aquí puedes añadir más bloques de estadísticas según sea necesario -->
    </div>

    <div class="mt-8 bg-white p-4 shadow rounded-lg">
        <h2 class="text-lg font-medium text-gray-700 mb-4">Distribución de Tareas por Estado</h2>
        <canvas id="tareasChart"></canvas>
    </div>
</div>

<script>
    var ctx = document.getElementById('tareasChart').getContext('2d');
    var tareasChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Completadas', 'En Progreso', 'Pendientes'],
            datasets: [{
                label: 'Estado de Tareas',
                data: [/* Valores dinámicos aquí, puedes usar Thymeleaf para pasar estos valores */],
                backgroundColor: [
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(255, 99, 132, 0.2)'
                ],
                borderColor: [
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(255, 99, 132, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
        }
    });
</script>
</body>
</html>
